{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/(public)/login/page.module.scss [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"btn\": \"page-module-scss-module__OoUkLG__btn\",\n  \"card\": \"page-module-scss-module__OoUkLG__card\",\n  \"error\": \"page-module-scss-module__OoUkLG__error\",\n  \"form\": \"page-module-scss-module__OoUkLG__form\",\n  \"input\": \"page-module-scss-module__OoUkLG__input\",\n  \"label\": \"page-module-scss-module__OoUkLG__label\",\n  \"page\": \"page-module-scss-module__OoUkLG__page\",\n  \"sub\": \"page-module-scss-module__OoUkLG__sub\",\n  \"title\": \"page-module-scss-module__OoUkLG__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/m/Documents/game%2B/web/src/app/%28public%29/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, Suspense, useEffect, useMemo, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useStores } from \"@/app/providers\";\nimport styles from \"./page.module.scss\";\n\nconst LoginInner = observer(function LoginInner() {\n  const { auth } = useStores();\n  const router = useRouter();\n  const search = useSearchParams();\n\n  const next = useMemo(() => {\n    const n = search.get(\"next\");\n    return n && n.startsWith(\"/\") ? n : \"/\";\n  }, [search]);\n\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n    if (auth.isAuthed) router.replace(next);\n  }, [auth.isAuthed, next, router]);\n\n  const onSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const res = await auth.login(password);\n    if (res.ok) router.replace(next);\n  };\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.card}>\n        <div className={styles.title}>Вход</div>\n        <div className={styles.sub}>Нужен только пароль</div>\n\n        <form className={styles.form} onSubmit={(e) => void onSubmit(e)}>\n          <label className={styles.label}>\n            Пароль\n            <input\n              className={styles.input}\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Введите пароль…\"\n              autoFocus\n            />\n          </label>\n\n          {auth.error && <div className={styles.error}>⚠️ {auth.error}</div>}\n\n          <button className={styles.btn} disabled={auth.loading || !password}>\n            {auth.loading ? \"Входим…\" : \"Войти\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n});\n\nexport default function LoginPage() {\n  return (\n    <Suspense fallback={null}>\n      <LoginInner />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,aAAa,IAAA,mKAAQ,EAAC,SAAS;IACnC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAS;IAC1B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,qJAAe;IAE9B,MAAM,OAAO,IAAA,gNAAO,EAAC;QACnB,MAAM,IAAI,OAAO,GAAG,CAAC;QACrB,OAAO,KAAK,EAAE,UAAU,CAAC,OAAO,IAAI;IACtC,GAAG;QAAC;KAAO;IAEX,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,IAAI,KAAK,QAAQ,EAAE,OAAO,OAAO,CAAC;IACpC,GAAG;QAAC,KAAK,QAAQ;QAAE;QAAM;KAAO;IAEhC,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,MAAM,MAAM,MAAM,KAAK,KAAK,CAAC;QAC7B,IAAI,IAAI,EAAE,EAAE,OAAO,OAAO,CAAC;IAC7B;IAEA,qBACE,8OAAC;QAAI,WAAW,iKAAM,CAAC,IAAI;kBACzB,cAAA,8OAAC;YAAI,WAAW,iKAAM,CAAC,IAAI;;8BACzB,8OAAC;oBAAI,WAAW,iKAAM,CAAC,KAAK;8BAAE;;;;;;8BAC9B,8OAAC;oBAAI,WAAW,iKAAM,CAAC,GAAG;8BAAE;;;;;;8BAE5B,8OAAC;oBAAK,WAAW,iKAAM,CAAC,IAAI;oBAAE,UAAU,CAAC,IAAM,KAAK,SAAS;;sCAC3D,8OAAC;4BAAM,WAAW,iKAAM,CAAC,KAAK;;gCAAE;8CAE9B,8OAAC;oCACC,WAAW,iKAAM,CAAC,KAAK;oCACvB,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,aAAY;oCACZ,SAAS;;;;;;;;;;;;wBAIZ,KAAK,KAAK,kBAAI,8OAAC;4BAAI,WAAW,iKAAM,CAAC,KAAK;;gCAAE;gCAAI,KAAK,KAAK;;;;;;;sCAE3D,8OAAC;4BAAO,WAAW,iKAAM,CAAC,GAAG;4BAAE,UAAU,KAAK,OAAO,IAAI,CAAC;sCACvD,KAAK,OAAO,GAAG,YAAY;;;;;;;;;;;;;;;;;;;;;;;AAMxC;AAEe,SAAS;IACtB,qBACE,8OAAC,iNAAQ;QAAC,UAAU;kBAClB,cAAA,8OAAC;;;;;;;;;;AAGP"}}]
}